"use strict";(globalThis.webpackChunktal_docs=globalThis.webpackChunktal_docs||[]).push([[1668],{2465(e,n,d){d.r(n),d.d(n,{assets:()=>l,contentTitle:()=>c,default:()=>o,frontMatter:()=>r,metadata:()=>s,toc:()=>h});const s=JSON.parse('{"id":"app/hooks-reference","title":"Hooks Reference","description":"The TAL frontend exposes a set of custom React hooks that wrap wagmi\'s useReadContract, useWriteContract, and useWaitForTransactionReceipt primitives. Each hook targets a specific smart contract function and handles ABI imports, address resolution, and chain ID configuration internally.","source":"@site/docs/app/hooks-reference.md","sourceDirName":"app","slug":"/app/hooks-reference","permalink":"/tal/app/hooks-reference","draft":false,"unlisted":false,"editUrl":"https://github.com/tokamak-network/Tokamak-AI-Layer/tree/master/docs/docs/app/hooks-reference.md","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"title":"Hooks Reference","sidebar_position":4},"sidebar":"docsSidebar","previous":{"title":"Wallet & Chains","permalink":"/tal/app/wallet-and-chains"},"next":{"title":"Contract Integration","permalink":"/tal/app/contract-integration"}}');var i=d(4848),t=d(8453);const r={title:"Hooks Reference",sidebar_position:4},c="Hooks Reference",l={},h=[{value:"Wallet",id:"wallet",level:2},{value:"<code>useWallet</code>",id:"usewallet",level:3},{value:"Agent Hooks",id:"agent-hooks",level:2},{value:"<code>useAgent(agentId)</code>",id:"useagentagentid",level:3},{value:"<code>useAgentCount()</code>",id:"useagentcount",level:3},{value:"<code>useAgentsByOwner(owner)</code>",id:"useagentsbyownerowner",level:3},{value:"<code>useAgentList(count)</code>",id:"useagentlistcount",level:3},{value:"<code>useAgentMetadata(agentURI)</code>",id:"useagentmetadataagenturi",level:3},{value:"Registration",id:"registration",level:2},{value:"<code>useRegisterAgent()</code>",id:"useregisteragent",level:3},{value:"Reputation Hooks",id:"reputation-hooks",level:2},{value:"<code>useFeedbackCount(agentId)</code>",id:"usefeedbackcountagentid",level:3},{value:"<code>useClientList(agentId)</code>",id:"useclientlistagentid",level:3},{value:"<code>useReputationSummary(agentId, clients)</code>",id:"usereputationsummaryagentid-clients",level:3},{value:"<code>useVerifiedSummary(agentId, clients)</code>",id:"useverifiedsummaryagentid-clients",level:3},{value:"<code>useReviewerReputation(reviewer)</code>",id:"usereviewerreputationreviewer",level:3},{value:"<code>useAgentRatings(agentIds)</code>",id:"useagentratingsagentids",level:3},{value:"<code>useFeedbacks(agentId, clients)</code>",id:"usefeedbacksagentid-clients",level:3},{value:"<code>useSubmitFeedback()</code>",id:"usesubmitfeedback",level:3},{value:"Validation Hooks",id:"validation-hooks",level:2},{value:"<code>useAgentValidations(agentId)</code>",id:"useagentvalidationsagentid",level:3},{value:"<code>useValidation(requestHash)</code>",id:"usevalidationrequesthash",level:3},{value:"<code>usePendingValidationCount(agentId)</code>",id:"usependingvalidationcountagentid",level:3},{value:"<code>useIsDisputed(requestHash)</code>",id:"useisdisputedrequesthash",level:3},{value:"<code>useAllValidationHashes(agentCount)</code>",id:"useallvalidationhashesagentcount",level:3},{value:"<code>useValidationBatch(hashes)</code>",id:"usevalidationbatchhashes",level:3},{value:"<code>useRequestValidation()</code>",id:"userequestvalidation",level:3},{value:"<code>useRequestValidationOnChain()</code>",id:"userequestvalidationonchain",level:3},{value:"<code>useSubmitValidation()</code>",id:"usesubmitvalidation",level:3},{value:"<code>useDisputeValidation()</code>",id:"usedisputevalidation",level:3},{value:"Staking Hooks",id:"staking-hooks",level:2},{value:"Read Hooks",id:"read-hooks",level:3},{value:"Write Hooks",id:"write-hooks",level:3},{value:"Utility",id:"utility",level:3},{value:"Task Fee Hooks",id:"task-fee-hooks",level:2},{value:"Read Hooks",id:"read-hooks-1",level:3},{value:"Write Hooks",id:"write-hooks-1",level:3},{value:"Utility",id:"utility-1",level:3},{value:"Agent Runtime Hooks",id:"agent-runtime-hooks",level:2},{value:"<code>useRuntimeAgent(onChainAgentId)</code>",id:"useruntimeagentonchainagentid",level:3},{value:"<code>useSubmitTask()</code>",id:"usesubmittask",level:3},{value:"<code>useRecentTasks(onChainAgentId)</code>",id:"userecenttasksonchainagentid",level:3}];function a(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"hooks-reference",children:"Hooks Reference"})}),"\n",(0,i.jsxs)(n.p,{children:["The TAL frontend exposes a set of custom React hooks that wrap wagmi's ",(0,i.jsx)(n.code,{children:"useReadContract"}),", ",(0,i.jsx)(n.code,{children:"useWriteContract"}),", and ",(0,i.jsx)(n.code,{children:"useWaitForTransactionReceipt"})," primitives. Each hook targets a specific smart contract function and handles ABI imports, address resolution, and chain ID configuration internally."]}),"\n",(0,i.jsx)(n.admonition,{title:"Under the Hood",type:"tip",children:(0,i.jsxs)(n.p,{children:["All read hooks use wagmi's ",(0,i.jsx)(n.code,{children:"useReadContract"})," or ",(0,i.jsx)(n.code,{children:"useReadContracts"})," (for batch multicalls). All write hooks pair ",(0,i.jsx)(n.code,{children:"useWriteContract"})," with ",(0,i.jsx)(n.code,{children:"useWaitForTransactionReceipt"})," to provide ",(0,i.jsx)(n.code,{children:"isPending"}),", ",(0,i.jsx)(n.code,{children:"isConfirming"}),", and ",(0,i.jsx)(n.code,{children:"isSuccess"})," lifecycle states. See ",(0,i.jsx)(n.a,{href:"./contract-integration",children:"Contract Integration"})," for the full pattern."]})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"wallet",children:"Wallet"}),"\n",(0,i.jsx)(n.h3,{id:"usewallet",children:(0,i.jsx)(n.code,{children:"useWallet"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"File"}),": ",(0,i.jsx)(n.code,{children:"frontend/src/hooks/useWallet.ts"})]}),"\n",(0,i.jsx)(n.p,{children:"Central hook for wallet state and network detection."}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Return Field"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"address"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"Address | undefined"})}),(0,i.jsx)(n.td,{children:"Connected wallet address"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"isConnected"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"boolean"})}),(0,i.jsx)(n.td,{children:"Whether a wallet is connected"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"isConnecting"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"boolean"})}),(0,i.jsx)(n.td,{children:"Connection in progress"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"isCorrectChain"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"boolean"})}),(0,i.jsx)(n.td,{children:"On either L1 or L2"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"isL1"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"boolean"})}),(0,i.jsx)(n.td,{children:"Connected to Sepolia (chain 11155111)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"isL2"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"boolean"})}),(0,i.jsx)(n.td,{children:"Connected to Thanos Sepolia (chain 111551119090)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"chainId"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"number"})}),(0,i.jsx)(n.td,{children:"Current chain ID"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"switchToL1"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"() => void"})}),(0,i.jsx)(n.td,{children:"Switch wallet to L1 Sepolia"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"switchToL2"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"() => void"})}),(0,i.jsx)(n.td,{children:"Switch wallet to Thanos Sepolia L2"})]})]})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:"const { address, isConnected, isL2, switchToL2 } = useWallet();\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"agent-hooks",children:"Agent Hooks"}),"\n",(0,i.jsx)(n.h3,{id:"useagentagentid",children:(0,i.jsx)(n.code,{children:"useAgent(agentId)"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"File"}),": ",(0,i.jsx)(n.code,{children:"frontend/src/hooks/useAgent.ts"})]}),"\n",(0,i.jsx)(n.p,{children:"Fetches on-chain data for a single agent from the Identity Registry."}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Parameter"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"agentId"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"bigint | undefined"})}),(0,i.jsx)(n.td,{children:"The agent's token ID"})]})})]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Return Field"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"agent.agentId"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"bigint"})}),(0,i.jsx)(n.td,{children:"Token ID"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"agent.owner"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"Address"})}),(0,i.jsx)(n.td,{children:"NFT owner address"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"agent.agentURI"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{children:"IPFS metadata URI"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"agent.isVerifiedOperator"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"boolean"})}),(0,i.jsx)(n.td,{children:"Operator stake verification status"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"agent.operator"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"Address"})}),(0,i.jsx)(n.td,{children:"Designated operator address"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"agent.zkIdentity"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"0x${string}"})}),(0,i.jsx)(n.td,{children:"ZK identity commitment hash"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"isLoading"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"boolean"})}),(0,i.jsx)(n.td,{children:"Data loading state"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"useagentcount",children:(0,i.jsx)(n.code,{children:"useAgentCount()"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"File"}),": ",(0,i.jsx)(n.code,{children:"frontend/src/hooks/useAgent.ts"})]}),"\n",(0,i.jsx)(n.p,{children:"Returns the total number of registered agents."}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Return Field"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"count"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"bigint | undefined"})}),(0,i.jsx)(n.td,{children:"Total agent count"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"isLoading"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"boolean"})}),(0,i.jsx)(n.td,{children:"Loading state"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"useagentsbyownerowner",children:(0,i.jsx)(n.code,{children:"useAgentsByOwner(owner)"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"File"}),": ",(0,i.jsx)(n.code,{children:"frontend/src/hooks/useAgent.ts"})]}),"\n",(0,i.jsx)(n.p,{children:"Returns all agent IDs owned by a specific address."}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Parameter"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"owner"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"Address | undefined"})}),(0,i.jsx)(n.td,{children:"Owner address to query"})]})})]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Return Field"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"agentIds"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"bigint[] | undefined"})}),(0,i.jsx)(n.td,{children:"Array of owned agent token IDs"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"isLoading"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"boolean"})}),(0,i.jsx)(n.td,{children:"Loading state"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"useagentlistcount",children:(0,i.jsx)(n.code,{children:"useAgentList(count)"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"File"}),": ",(0,i.jsx)(n.code,{children:"frontend/src/hooks/useAgent.ts"})]}),"\n",(0,i.jsxs)(n.p,{children:["Batch-loads agent data (owner + URI) for up to 50 agents using ",(0,i.jsx)(n.code,{children:"useReadContracts"})," multicall."]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Parameter"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"count"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"number"})}),(0,i.jsx)(n.td,{children:"Number of agents to load"})]})})]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Return Field"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"agents"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"Array<{ agentId, owner, agentURI }>"})}),(0,i.jsx)(n.td,{children:"Agent data array"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"isLoading"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"boolean"})}),(0,i.jsx)(n.td,{children:"Loading state"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"useagentmetadataagenturi",children:(0,i.jsx)(n.code,{children:"useAgentMetadata(agentURI)"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"File"}),": ",(0,i.jsx)(n.code,{children:"frontend/src/hooks/useAgentMetadata.ts"})]}),"\n",(0,i.jsx)(n.p,{children:"Fetches and parses ERC-8004 registration metadata from IPFS. Tries multiple gateways (Pinata, ipfs.io, Cloudflare) with an in-memory cache."}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Parameter"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"agentURI"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string | undefined"})}),(0,i.jsxs)(n.td,{children:["IPFS URI (e.g., ",(0,i.jsx)(n.code,{children:"ipfs://Qm..."}),")"]})]})})]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Return Field"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"name"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string | undefined"})}),(0,i.jsx)(n.td,{children:"Agent name"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"description"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string | undefined"})}),(0,i.jsx)(n.td,{children:"Agent description"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"capabilities"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string[] | undefined"})}),(0,i.jsx)(n.td,{children:"Capability list"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"active"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"boolean | undefined"})}),(0,i.jsx)(n.td,{children:"Active status"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"services"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"Record<string, string> | undefined"})}),(0,i.jsx)(n.td,{children:"Service endpoint map"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"pricing"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"{ currency?, perRequest? } | undefined"})}),(0,i.jsx)(n.td,{children:"Pricing config"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"isLoading"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"boolean"})}),(0,i.jsx)(n.td,{children:"Fetch in progress"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"error"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string | undefined"})}),(0,i.jsx)(n.td,{children:"Error message if all gateways fail"})]})]})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"registration",children:"Registration"}),"\n",(0,i.jsx)(n.h3,{id:"useregisteragent",children:(0,i.jsx)(n.code,{children:"useRegisterAgent()"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"File"}),": ",(0,i.jsx)(n.code,{children:"frontend/src/hooks/useRegisterAgent.ts"})]}),"\n",(0,i.jsxs)(n.p,{children:["Calls ",(0,i.jsx)(n.code,{children:"TALIdentityRegistry.register(agentURI)"})," to mint a new agent NFT."]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Return Field"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"register"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"(agentURI: string) => void"})}),(0,i.jsx)(n.td,{children:"Trigger registration"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"hash"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"0x${string} | undefined"})}),(0,i.jsx)(n.td,{children:"Transaction hash"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"isPending"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"boolean"})}),(0,i.jsx)(n.td,{children:"Awaiting wallet confirmation"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"isConfirming"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"boolean"})}),(0,i.jsx)(n.td,{children:"Transaction confirming on-chain"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"isSuccess"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"boolean"})}),(0,i.jsx)(n.td,{children:"Transaction confirmed"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"error"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"Error | null"})}),(0,i.jsx)(n.td,{children:"Transaction error"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"newAgentId"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"bigint | undefined"})}),(0,i.jsx)(n.td,{children:"Newly minted agent ID (parsed from Transfer event)"})]})]})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"reputation-hooks",children:"Reputation Hooks"}),"\n",(0,i.jsx)(n.h3,{id:"usefeedbackcountagentid",children:(0,i.jsx)(n.code,{children:"useFeedbackCount(agentId)"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"File"}),": ",(0,i.jsx)(n.code,{children:"frontend/src/hooks/useReputation.ts"})]}),"\n",(0,i.jsx)(n.p,{children:"Returns the number of feedback submissions for an agent."}),"\n",(0,i.jsx)(n.h3,{id:"useclientlistagentid",children:(0,i.jsx)(n.code,{children:"useClientList(agentId)"})}),"\n",(0,i.jsx)(n.p,{children:"Returns the list of unique client addresses that have submitted feedback."}),"\n",(0,i.jsx)(n.h3,{id:"usereputationsummaryagentid-clients",children:(0,i.jsx)(n.code,{children:"useReputationSummary(agentId, clients)"})}),"\n",(0,i.jsxs)(n.p,{children:["Calls ",(0,i.jsx)(n.code,{children:"getSummary()"})," for aggregated reputation stats: ",(0,i.jsx)(n.code,{children:"totalValue"}),", ",(0,i.jsx)(n.code,{children:"count"}),", ",(0,i.jsx)(n.code,{children:"min"}),", ",(0,i.jsx)(n.code,{children:"max"}),"."]}),"\n",(0,i.jsx)(n.h3,{id:"useverifiedsummaryagentid-clients",children:(0,i.jsx)(n.code,{children:"useVerifiedSummary(agentId, clients)"})}),"\n",(0,i.jsxs)(n.p,{children:["Same as above but uses ",(0,i.jsx)(n.code,{children:"getVerifiedSummary()"})," which filters to payment-verified feedback only."]}),"\n",(0,i.jsx)(n.h3,{id:"usereviewerreputationreviewer",children:(0,i.jsx)(n.code,{children:"useReviewerReputation(reviewer)"})}),"\n",(0,i.jsx)(n.p,{children:"Returns the reviewer reputation score for a specific address."}),"\n",(0,i.jsx)(n.h3,{id:"useagentratingsagentids",children:(0,i.jsx)(n.code,{children:"useAgentRatings(agentIds)"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Batch hook"})," -- fetches ratings for an array of agents in two multicall rounds:"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"getClientList"})," for each agent"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"getSummary"})," for agents that have clients"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Returns a ",(0,i.jsx)(n.code,{children:"Map<number, AgentRating>"})," where ",(0,i.jsx)(n.code,{children:"AgentRating"})," contains ",(0,i.jsx)(n.code,{children:"averageScore"})," and ",(0,i.jsx)(n.code,{children:"feedbackCount"}),"."]}),"\n",(0,i.jsx)(n.h3,{id:"usefeedbacksagentid-clients",children:(0,i.jsx)(n.code,{children:"useFeedbacks(agentId, clients)"})}),"\n",(0,i.jsxs)(n.p,{children:["Fetches all individual feedback entries for an agent across all clients. Returns ",(0,i.jsx)(n.code,{children:"FeedbackEntry[]"})," sorted by timestamp descending."]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsxs)(n.th,{children:[(0,i.jsx)(n.code,{children:"FeedbackEntry"})," Field"]}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"value"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"bigint"})}),(0,i.jsx)(n.td,{children:"Rating value"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"valueDecimals"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"number"})}),(0,i.jsx)(n.td,{children:"Decimal precision"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.code,{children:"tag1"}),", ",(0,i.jsx)(n.code,{children:"tag2"})]}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{children:"Category tags"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"feedbackURI"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{children:"Comment text or URI"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"feedbackHash"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"0x${string}"})}),(0,i.jsx)(n.td,{children:"Keccak256 of feedback content"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"isRevoked"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"boolean"})}),(0,i.jsx)(n.td,{children:"Whether revoked"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"timestamp"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"bigint"})}),(0,i.jsx)(n.td,{children:"Unix timestamp"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"client"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"Address"})}),(0,i.jsx)(n.td,{children:"Submitter address"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"usesubmitfeedback",children:(0,i.jsx)(n.code,{children:"useSubmitFeedback()"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"File"}),": ",(0,i.jsx)(n.code,{children:"frontend/src/hooks/useSubmitFeedback.ts"})]}),"\n",(0,i.jsxs)(n.p,{children:["Writes feedback to ",(0,i.jsx)(n.code,{children:"TALReputationRegistry.submitFeedback()"}),". Maps 1-5 star ratings to ",(0,i.jsx)(n.code,{children:"int128"})," values with 1 decimal (10, 20, 30, 40, 50)."]}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Parameter"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"params.agentId"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"bigint"})}),(0,i.jsx)(n.td,{children:"Target agent"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"params.rating"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"number"})}),(0,i.jsx)(n.td,{children:"1-5 stars"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"params.category"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{children:"Feedback category tag"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"params.comment"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string | undefined"})}),(0,i.jsx)(n.td,{children:"Optional comment"})]})]})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"validation-hooks",children:"Validation Hooks"}),"\n",(0,i.jsx)(n.h3,{id:"useagentvalidationsagentid",children:(0,i.jsx)(n.code,{children:"useAgentValidations(agentId)"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"File"}),": ",(0,i.jsx)(n.code,{children:"frontend/src/hooks/useValidation.ts"})]}),"\n",(0,i.jsx)(n.p,{children:"Returns all validation request hashes for an agent."}),"\n",(0,i.jsx)(n.h3,{id:"usevalidationrequesthash",children:(0,i.jsx)(n.code,{children:"useValidation(requestHash)"})}),"\n",(0,i.jsx)(n.p,{children:"Fetches the full validation data (request + response) for a given request hash."}),"\n",(0,i.jsx)(n.h3,{id:"usependingvalidationcountagentid",children:(0,i.jsx)(n.code,{children:"usePendingValidationCount(agentId)"})}),"\n",(0,i.jsx)(n.p,{children:"Returns the count of pending (uncompleted) validations for an agent."}),"\n",(0,i.jsx)(n.h3,{id:"useisdisputedrequesthash",children:(0,i.jsx)(n.code,{children:"useIsDisputed(requestHash)"})}),"\n",(0,i.jsx)(n.p,{children:"Checks whether a validation has been disputed."}),"\n",(0,i.jsx)(n.h3,{id:"useallvalidationhashesagentcount",children:(0,i.jsx)(n.code,{children:"useAllValidationHashes(agentCount)"})}),"\n",(0,i.jsxs)(n.p,{children:["Batch-fetches validation hashes for up to 30 agents. Returns ",(0,i.jsx)(n.code,{children:"Array<{ hash, agentId }>"}),"."]}),"\n",(0,i.jsx)(n.h3,{id:"usevalidationbatchhashes",children:(0,i.jsx)(n.code,{children:"useValidationBatch(hashes)"})}),"\n",(0,i.jsx)(n.p,{children:"Batch-loads validation request and response data for an array of hashes."}),"\n",(0,i.jsx)(n.h3,{id:"userequestvalidation",children:(0,i.jsx)(n.code,{children:"useRequestValidation()"})}),"\n",(0,i.jsxs)(n.p,{children:["Calls the agent runtime API (",(0,i.jsx)(n.code,{children:"/api/runtime/[agentId]/validate"}),") to trigger off-chain validation."]}),"\n",(0,i.jsx)(n.h3,{id:"userequestvalidationonchain",children:(0,i.jsx)(n.code,{children:"useRequestValidationOnChain()"})}),"\n",(0,i.jsxs)(n.p,{children:["Writes a validation request to ",(0,i.jsx)(n.code,{children:"TALValidationRegistry.requestValidation()"})," with a bounty payment."]}),"\n",(0,i.jsx)(n.h3,{id:"usesubmitvalidation",children:(0,i.jsx)(n.code,{children:"useSubmitValidation()"})}),"\n",(0,i.jsxs)(n.p,{children:["Writes validation results on-chain via ",(0,i.jsx)(n.code,{children:"submitValidation(requestHash, score, proof, detailsURI)"}),"."]}),"\n",(0,i.jsx)(n.h3,{id:"usedisputevalidation",children:(0,i.jsx)(n.code,{children:"useDisputeValidation()"})}),"\n",(0,i.jsxs)(n.p,{children:["Disputes a validation via ",(0,i.jsx)(n.code,{children:"disputeValidation(requestHash, evidence)"}),"."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"staking-hooks",children:"Staking Hooks"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"File"}),": ",(0,i.jsx)(n.code,{children:"frontend/src/hooks/useStaking.ts"})]}),"\n",(0,i.jsx)(n.p,{children:"All staking hooks target L1 Sepolia (chain ID 11155111)."}),"\n",(0,i.jsx)(n.h3,{id:"read-hooks",children:"Read Hooks"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Hook"}),(0,i.jsx)(n.th,{children:"Returns"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"useTONBalance(address)"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"bigint"})}),(0,i.jsx)(n.td,{children:"TON token balance (18 decimals)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"useWTONBalance(address)"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"bigint"})}),(0,i.jsx)(n.td,{children:"WTON token balance (27 decimals)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"useTONAllowance(owner)"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"bigint"})}),(0,i.jsx)(n.td,{children:"TON allowance to WTON contract"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"useWTONAllowance(owner)"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"bigint"})}),(0,i.jsx)(n.td,{children:"WTON allowance to DepositManager"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"useStakeBalance(address)"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"bigint"})}),(0,i.jsx)(n.td,{children:"Staked amount via SeigManager (27 decimals)"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"write-hooks",children:"Write Hooks"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Hook"}),(0,i.jsx)(n.th,{children:"Action"}),(0,i.jsx)(n.th,{children:"Step"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"useApproveTON()"})}),(0,i.jsx)(n.td,{children:"Approve TON to WTON contract"}),(0,i.jsx)(n.td,{children:"Step 1/4"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"useSwapToWTON()"})}),(0,i.jsx)(n.td,{children:"Swap TON to WTON"}),(0,i.jsx)(n.td,{children:"Step 2/4"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"useApproveWTON()"})}),(0,i.jsx)(n.td,{children:"Approve WTON to DepositManager"}),(0,i.jsx)(n.td,{children:"Step 3/4"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"useStakeTON()"})}),(0,i.jsx)(n.td,{children:"Deposit WTON to DepositManager"}),(0,i.jsx)(n.td,{children:"Step 4/4"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"useUnstakeTON()"})}),(0,i.jsx)(n.td,{children:"Request withdrawal from DepositManager"}),(0,i.jsx)(n.td,{children:"Unstake"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"utility",children:"Utility"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"// Convert TON amount (18 decimals) to WTON amount (27 decimals)\nexport const toWTONAmount = (tonRawAmount: bigint): bigint =>\n  tonRawAmount * 10n ** 9n;\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"task-fee-hooks",children:"Task Fee Hooks"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"File"}),": ",(0,i.jsx)(n.code,{children:"frontend/src/hooks/useTaskFee.ts"})]}),"\n",(0,i.jsxs)(n.p,{children:["Interact with the ",(0,i.jsx)(n.strong,{children:"TaskFeeEscrow"})," contract on Thanos Sepolia L2."]}),"\n",(0,i.jsx)(n.h3,{id:"read-hooks-1",children:"Read Hooks"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Hook"}),(0,i.jsx)(n.th,{children:"Returns"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"useTONBalanceL2(address)"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"Balance"})}),(0,i.jsx)(n.td,{children:"Native TON balance on L2"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"useAgentFee(agentId)"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"bigint"})}),(0,i.jsx)(n.td,{children:"Per-task fee in wei"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"useIsTaskPaid(taskRef)"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"boolean"})}),(0,i.jsx)(n.td,{children:"Whether a task has been paid for"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"useAgentFeeBalance(agentId)"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"bigint"})}),(0,i.jsx)(n.td,{children:"Unclaimed fee balance"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"useTaskEscrow(taskRef)"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"EscrowData"})}),(0,i.jsx)(n.td,{children:"Full escrow status (payer, amount, status)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"useHasUsedAgent(agentId, user)"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"boolean"})}),(0,i.jsx)(n.td,{children:"Whether user has completed a task"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"write-hooks-1",children:"Write Hooks"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Hook"}),(0,i.jsx)(n.th,{children:"Action"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"usePayForTask()"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"payForTask(agentId, taskRef)"})}),(0,i.jsx)(n.td,{children:"Pay native TON for a task (payable)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"useSetAgentFee()"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"setAgentFee(agentId, feePerTask)"})}),(0,i.jsx)(n.td,{children:"Set per-task fee (owner only)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"useClaimFees()"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"claimFees(agentId)"})}),(0,i.jsx)(n.td,{children:"Claim accumulated fees (owner only)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"useRefundTask()"})}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"refundTask(taskRef)"})}),(0,i.jsx)(n.td,{children:"Refund escrowed funds for failed task"})]})]})]}),"\n",(0,i.jsx)(n.h3,{id:"utility-1",children:"Utility"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-typescript",children:"// Generate deterministic task reference for escrow\nfunction generateTaskRef(\n  agentId: bigint,\n  userAddress: Address,\n  nonce: bigint,\n): `0x${string}` {\n  return keccak256(\n    encodePacked(\n      ['uint256', 'address', 'uint256'],\n      [agentId, userAddress, nonce],\n    ),\n  );\n}\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"agent-runtime-hooks",children:"Agent Runtime Hooks"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"File"}),": ",(0,i.jsx)(n.code,{children:"frontend/src/hooks/useAgentRuntime.ts"})]}),"\n",(0,i.jsx)(n.p,{children:"These hooks communicate with the agent runtime server via Next.js API routes, not directly with smart contracts."}),"\n",(0,i.jsx)(n.h3,{id:"useruntimeagentonchainagentid",children:(0,i.jsx)(n.code,{children:"useRuntimeAgent(onChainAgentId)"})}),"\n",(0,i.jsxs)(n.p,{children:["Fetches agent runtime info (capabilities, status, endpoint) from ",(0,i.jsx)(n.code,{children:"/api/runtime/[agentId]/info"}),"."]}),"\n",(0,i.jsx)(n.h3,{id:"usesubmittask",children:(0,i.jsx)(n.code,{children:"useSubmitTask()"})}),"\n",(0,i.jsxs)(n.p,{children:["Submits a task to an agent runtime via ",(0,i.jsx)(n.code,{children:"/api/runtime/[agentId]/tasks"}),". Supports optional payment transaction hash and task reference."]}),"\n",(0,i.jsx)(n.h3,{id:"userecenttasksonchainagentid",children:(0,i.jsx)(n.code,{children:"useRecentTasks(onChainAgentId)"})}),"\n",(0,i.jsxs)(n.p,{children:["Fetches recent task results for an agent from the runtime server. Returns ",(0,i.jsx)(n.code,{children:"TaskResult[]"})," with status, input, output, hashes, and timestamps."]})]})}function o(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},8453(e,n,d){d.d(n,{R:()=>r,x:()=>c});var s=d(6540);const i={},t=s.createContext(i);function r(e){const n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);