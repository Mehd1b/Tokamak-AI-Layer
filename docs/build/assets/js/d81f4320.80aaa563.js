"use strict";(globalThis.webpackChunktal_docs=globalThis.webpackChunktal_docs||[]).push([[9819],{3006(e,t,n){n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>s,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"sdk/overview","title":"SDK Overview","description":"The TAL TypeScript SDK provides a complete client library for interacting with the Tokamak AI Layer smart contracts. It wraps low-level contract calls into a clean, typed API built on top of viem.","source":"@site/docs/sdk/overview.md","sourceDirName":"sdk","slug":"/sdk/overview","permalink":"/tal/sdk/overview","draft":false,"unlisted":false,"editUrl":"https://github.com/tokamak-network/Tokamak-AI-Layer/tree/master/docs/docs/sdk/overview.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"title":"SDK Overview","sidebar_position":1},"sidebar":"docsSidebar","previous":{"title":"Deployment & Security","permalink":"/tal/contracts/deployment-and-security"},"next":{"title":"Identity Client","permalink":"/tal/sdk/identity-client"}}');var d=n(4848),r=n(8453);const s={title:"SDK Overview",sidebar_position:1},l="SDK Overview",c={},a=[{value:"Architecture",id:"architecture",level:2},{value:"Installation",id:"installation",level:2},{value:"Configuration",id:"configuration",level:2},{value:"TALClientConfig",id:"talclientconfig",level:3},{value:"Quick Start",id:"quick-start",level:2},{value:"Domain Clients",id:"domain-clients",level:2},{value:"Builder Pattern",id:"builder-pattern",level:2},{value:"Default Contract Addresses",id:"default-contract-addresses",level:2},{value:"Next Steps",id:"next-steps",level:2}];function o(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",mermaid:"mermaid",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(t.header,{children:(0,d.jsx)(t.h1,{id:"sdk-overview",children:"SDK Overview"})}),"\n",(0,d.jsxs)(t.p,{children:["The ",(0,d.jsx)(t.strong,{children:"TAL TypeScript SDK"})," provides a complete client library for interacting with the Tokamak AI Layer smart contracts. It wraps low-level contract calls into a clean, typed API built on top of ",(0,d.jsx)(t.a,{href:"https://viem.sh",children:"viem"}),"."]}),"\n",(0,d.jsx)(t.h2,{id:"architecture",children:"Architecture"}),"\n",(0,d.jsxs)(t.p,{children:["The SDK follows a ",(0,d.jsx)(t.strong,{children:"facade pattern"}),": ",(0,d.jsx)(t.code,{children:"TALClient"})," is the main entry point, delegating to specialized domain clients for each subsystem."]}),"\n",(0,d.jsx)(t.mermaid,{value:"graph TD\n    A[TALClient] --\x3e B[IdentityClient]\n    A --\x3e C[ReputationClient]\n    A --\x3e D[ValidationClient]\n    A --\x3e E[SubgraphClient]\n    A --\x3e F[ProofGenerator]\n    B --\x3e G[TALIdentityRegistry]\n    C --\x3e H[TALReputationRegistry]\n    D --\x3e I[TALValidationRegistry]"}),"\n",(0,d.jsxs)(t.p,{children:["Each domain client handles its own contract interactions, while ",(0,d.jsx)(t.code,{children:"TALClient"})," provides convenience methods that combine data across clients. For example, ",(0,d.jsx)(t.code,{children:"TALClient.getAgent()"})," fetches identity data from ",(0,d.jsx)(t.code,{children:"IdentityClient"}),", enriches it with reputation data from ",(0,d.jsx)(t.code,{children:"ReputationClient"}),", and appends validation stats from ",(0,d.jsx)(t.code,{children:"ValidationClient"}),"."]}),"\n",(0,d.jsx)(t.h2,{id:"installation",children:"Installation"}),"\n",(0,d.jsx)(t.pre,{children:(0,d.jsx)(t.code,{className:"language-bash",children:"npm install @tokamak/tal-sdk\n"})}),"\n",(0,d.jsxs)(t.admonition,{title:"Peer Dependency",type:"info",children:[(0,d.jsxs)(t.p,{children:["The SDK requires ",(0,d.jsx)(t.code,{children:"viem"})," as a peer dependency. If you do not already have it installed:"]}),(0,d.jsx)(t.pre,{children:(0,d.jsx)(t.code,{className:"language-bash",children:"npm install viem\n"})})]}),"\n",(0,d.jsx)(t.h2,{id:"configuration",children:"Configuration"}),"\n",(0,d.jsxs)(t.p,{children:["Create a ",(0,d.jsx)(t.code,{children:"TALClient"})," instance with a ",(0,d.jsx)(t.code,{children:"TALClientConfig"})," object:"]}),"\n",(0,d.jsx)(t.pre,{children:(0,d.jsx)(t.code,{className:"language-typescript",children:"import { TALClient } from '@tokamak/tal-sdk';\nimport { createWalletClient, custom } from 'viem';\nimport { optimismSepolia } from 'viem/chains';\n\nconst walletClient = createWalletClient({\n  chain: optimismSepolia,\n  transport: custom(window.ethereum),\n});\n\nconst tal = new TALClient({\n  rpcUrl: 'https://sepolia.optimism.io',\n  walletClient,\n});\n"})}),"\n",(0,d.jsx)(t.h3,{id:"talclientconfig",children:"TALClientConfig"}),"\n",(0,d.jsxs)(t.table,{children:[(0,d.jsx)(t.thead,{children:(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.th,{children:"Property"}),(0,d.jsx)(t.th,{children:"Type"}),(0,d.jsx)(t.th,{children:"Default"}),(0,d.jsx)(t.th,{children:"Description"})]})}),(0,d.jsxs)(t.tbody,{children:[(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"chainId"})}),(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"number"})}),(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"11155420"})}),(0,d.jsx)(t.td,{children:"Chain ID (Optimism Sepolia)"})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"rpcUrl"})}),(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"string"})}),(0,d.jsx)(t.td,{children:"--"}),(0,d.jsx)(t.td,{children:"JSON-RPC endpoint URL"})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"contracts"})}),(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"object"})}),(0,d.jsx)(t.td,{children:"Optimism Sepolia defaults"}),(0,d.jsx)(t.td,{children:"Override contract addresses"})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"contracts.identityRegistry"})}),(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"Address"})}),(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"0x3f89...A525"})}),(0,d.jsx)(t.td,{children:"TALIdentityRegistry address"})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"contracts.reputationRegistry"})}),(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"Address"})}),(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"0x0052...502b"})}),(0,d.jsx)(t.td,{children:"TALReputationRegistry address"})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"contracts.validationRegistry"})}),(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"Address"})}),(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"0x0944...32F3"})}),(0,d.jsx)(t.td,{children:"TALValidationRegistry address"})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"subgraphUrl"})}),(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"string"})}),(0,d.jsx)(t.td,{children:"--"}),(0,d.jsx)(t.td,{children:"Subgraph endpoint (when available)"})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"ipfsGateway"})}),(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"string"})}),(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"https://ipfs.io/ipfs/"})}),(0,d.jsx)(t.td,{children:"IPFS gateway for metadata fetching"})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"cacheTimeout"})}),(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"number"})}),(0,d.jsx)(t.td,{children:"--"}),(0,d.jsx)(t.td,{children:"Cache timeout in milliseconds"})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"walletClient"})}),(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"WalletClient"})}),(0,d.jsx)(t.td,{children:"--"}),(0,d.jsx)(t.td,{children:"viem WalletClient for write operations"})]})]})]}),"\n",(0,d.jsx)(t.admonition,{title:"Read-only Mode",type:"tip",children:(0,d.jsxs)(t.p,{children:["You can omit ",(0,d.jsx)(t.code,{children:"walletClient"})," if you only need read operations. Write methods will throw an error if called without a connected wallet."]})}),"\n",(0,d.jsx)(t.h2,{id:"quick-start",children:"Quick Start"}),"\n",(0,d.jsx)(t.pre,{children:(0,d.jsx)(t.code,{className:"language-typescript",children:"import { TALClient } from '@tokamak/tal-sdk';\n\n// Read-only client (no wallet needed)\nconst tal = new TALClient({\n  rpcUrl: 'https://sepolia.optimism.io',\n});\n\n// Fetch an agent by ID\nconst agent = await tal.getAgent(1n);\nconsole.log(agent.agentURI);       // ipfs://Qm...\nconsole.log(agent.feedbackCount);   // 12\nconsole.log(agent.validationCount); // 3\n\n// Search for agents\nconst results = await tal.searchAgents({\n  verifiedOperatorOnly: true,\n  minReputation: 70,\n  first: 10,\n});\n\n// Get protocol stats\nconst stats = await tal.getProtocolStats();\nconsole.log(`Total agents: ${stats.totalAgents}`);\n"})}),"\n",(0,d.jsx)(t.h2,{id:"domain-clients",children:"Domain Clients"}),"\n",(0,d.jsxs)(t.p,{children:["You can access domain clients directly for fine-grained control, or use the convenience methods on ",(0,d.jsx)(t.code,{children:"TALClient"}),"."]}),"\n",(0,d.jsxs)(t.table,{children:[(0,d.jsx)(t.thead,{children:(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.th,{children:"Client"}),(0,d.jsx)(t.th,{children:"Access"}),(0,d.jsx)(t.th,{children:"Purpose"}),(0,d.jsx)(t.th,{children:"Details"})]})}),(0,d.jsxs)(t.tbody,{children:[(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{children:(0,d.jsx)(t.strong,{children:"IdentityClient"})}),(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"tal.identity"})}),(0,d.jsx)(t.td,{children:"Agent registration, URI updates, operator management, wallet verification"}),(0,d.jsx)(t.td,{children:(0,d.jsx)(t.a,{href:"./identity-client",children:"Identity Client"})})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{children:(0,d.jsx)(t.strong,{children:"ReputationClient"})}),(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"tal.reputation"})}),(0,d.jsx)(t.td,{children:"Feedback submission, reputation queries, stake-weighted scoring"}),(0,d.jsx)(t.td,{children:(0,d.jsx)(t.a,{href:"./reputation-and-validation",children:"Reputation & Validation"})})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{children:(0,d.jsx)(t.strong,{children:"ValidationClient"})}),(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"tal.validation"})}),(0,d.jsx)(t.td,{children:"Validation requests, submission, dispute resolution"}),(0,d.jsx)(t.td,{children:(0,d.jsx)(t.a,{href:"./reputation-and-validation",children:"Reputation & Validation"})})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{children:(0,d.jsx)(t.strong,{children:"SubgraphClient"})}),(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"tal.subgraph"})}),(0,d.jsx)(t.td,{children:"Indexed queries (stubbed, awaiting deployment)"}),(0,d.jsx)(t.td,{children:"--"})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{children:(0,d.jsx)(t.strong,{children:"ProofGenerator"})}),(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"tal.proofGenerator"})}),(0,d.jsx)(t.td,{children:"ZK proof generation (stubbed, awaiting Sprint 3)"}),(0,d.jsx)(t.td,{children:"--"})]})]})]}),"\n",(0,d.jsx)(t.h2,{id:"builder-pattern",children:"Builder Pattern"}),"\n",(0,d.jsxs)(t.p,{children:["The SDK includes a ",(0,d.jsx)(t.code,{children:"RegistrationBuilder"})," for constructing ERC-8004 compliant registration files:"]}),"\n",(0,d.jsx)(t.pre,{children:(0,d.jsx)(t.code,{className:"language-typescript",children:"const builder = tal.createRegistrationBuilder();\n\nconst registration = builder\n  .setName('My AI Agent')\n  .setDescription('A helpful assistant')\n  .addService('A2A', 'https://agent.example.com/a2a')\n  .addService('MCP', 'https://agent.example.com/mcp')\n  .setSupportedTrust(['reputation', 'crypto-economic'])\n  .build();\n"})}),"\n",(0,d.jsxs)(t.p,{children:["See the ",(0,d.jsx)(t.a,{href:"./identity-client",children:"Identity Client"})," page for the full builder API."]}),"\n",(0,d.jsx)(t.h2,{id:"default-contract-addresses",children:"Default Contract Addresses"}),"\n",(0,d.jsxs)(t.p,{children:["The SDK ships with default addresses for Optimism Sepolia. Override them via the ",(0,d.jsx)(t.code,{children:"contracts"})," config if deploying to a different network."]}),"\n",(0,d.jsxs)(t.table,{children:[(0,d.jsx)(t.thead,{children:(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.th,{children:"Contract"}),(0,d.jsx)(t.th,{children:"Address"})]})}),(0,d.jsxs)(t.tbody,{children:[(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{children:"TALIdentityRegistry"}),(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"0x3f89CD27fD877827E7665A9883b3c0180E22A525"})})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{children:"TALReputationRegistry"}),(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"0x0052258E517835081c94c0B685409f2EfC4D502b"})})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{children:"TALValidationRegistry"}),(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"0x09447147C6E75a60A449f38532F06E19F5F632F3"})})]}),(0,d.jsxs)(t.tr,{children:[(0,d.jsx)(t.td,{children:"StakingIntegrationModule"}),(0,d.jsx)(t.td,{children:(0,d.jsx)(t.code,{children:"0x41FF86643f6d550725177af1ABBF4db9715A74b8"})})]})]})]}),"\n",(0,d.jsx)(t.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,d.jsxs)(t.ul,{children:["\n",(0,d.jsxs)(t.li,{children:[(0,d.jsx)(t.a,{href:"./identity-client",children:"Identity Client"})," -- Register agents with the builder pattern"]}),"\n",(0,d.jsxs)(t.li,{children:[(0,d.jsx)(t.a,{href:"./reputation-and-validation",children:"Reputation & Validation"})," -- Submit feedback and request validations"]}),"\n",(0,d.jsxs)(t.li,{children:[(0,d.jsx)(t.a,{href:"./types-reference",children:"Types Reference"})," -- Complete type definitions"]}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,d.jsx)(t,{...e,children:(0,d.jsx)(o,{...e})}):o(e)}},8453(e,t,n){n.d(t,{R:()=>s,x:()=>l});var i=n(6540);const d={},r=i.createContext(d);function s(e){const t=i.useContext(r);return i.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:s(e.components),i.createElement(r.Provider,{value:t},e.children)}}}]);