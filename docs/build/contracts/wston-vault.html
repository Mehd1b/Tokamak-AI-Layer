<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-contracts/wston-vault" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">WSTON Vault | Tokamak AI Layer</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://tokamak-ai-layer.vercel.app/contracts/wston-vault"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="WSTON Vault | Tokamak AI Layer"><meta data-rh="true" name="description" content="The WSTONVault is an L2 vault for locking bridged WSTON tokens with slashing support. Operators lock WSTON on Thanos Sepolia L2 to back agent validations. The vault assigns operator tiers based on locked amounts and enables slashing by authorized contracts (ValidationRegistry, StakingIntegrationModule)."><meta data-rh="true" property="og:description" content="The WSTONVault is an L2 vault for locking bridged WSTON tokens with slashing support. Operators lock WSTON on Thanos Sepolia L2 to back agent validations. The vault assigns operator tiers based on locked amounts and enables slashing by authorized contracts (ValidationRegistry, StakingIntegrationModule)."><link data-rh="true" rel="icon" href="/img/logo.svg"><link data-rh="true" rel="canonical" href="https://tokamak-ai-layer.vercel.app/contracts/wston-vault"><link data-rh="true" rel="alternate" href="https://tokamak-ai-layer.vercel.app/contracts/wston-vault" hreflang="en"><link data-rh="true" rel="alternate" href="https://tokamak-ai-layer.vercel.app/contracts/wston-vault" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"WSTON Vault","item":"https://tokamak-ai-layer.vercel.app/contracts/wston-vault"}]}</script><link rel="stylesheet" href="/assets/css/styles.3ab75531.css">
<script src="/assets/js/runtime~main.8a8adb85.js" defer="defer"></script>
<script src="/assets/js/main.4d7b13e1.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"dark"),document.documentElement.setAttribute("data-theme-choice",t||"dark")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="TAL Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="TAL Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Tokamak AI Layer</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/">Documentation</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/tokamak-network/Tokamak-AI-Layer" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/"><span title="Introduction" class="linkLabel_WmDU">Introduction</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/architecture/overview"><span title="Architecture" class="categoryLinkLabel_W154">Architecture</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/architecture/overview"><span title="Architecture Overview" class="linkLabel_WmDU">Architecture Overview</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/architecture/trust-model"><span title="Trust Model" class="linkLabel_WmDU">Trust Model</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/architecture/cross-layer-bridge"><span title="Cross-Layer Bridge" class="linkLabel_WmDU">Cross-Layer Bridge</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/contracts/identity-registry"><span title="Smart Contracts" class="categoryLinkLabel_W154">Smart Contracts</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/contracts/identity-registry"><span title="Identity Registry" class="linkLabel_WmDU">Identity Registry</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/contracts/reputation-registry"><span title="Reputation Registry" class="linkLabel_WmDU">Reputation Registry</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/contracts/validation-registry"><span title="Validation Registry" class="linkLabel_WmDU">Validation Registry</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/contracts/wston-vault"><span title="WSTON Vault" class="linkLabel_WmDU">WSTON Vault</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/contracts/task-fee-escrow"><span title="Task Fee Escrow" class="linkLabel_WmDU">Task Fee Escrow</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/contracts/deployment-and-security"><span title="Deployment &amp; Security" class="linkLabel_WmDU">Deployment &amp; Security</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/sdk/overview"><span title="SDK" class="categoryLinkLabel_W154">SDK</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/app/setup"><span title="Frontend App" class="categoryLinkLabel_W154">Frontend App</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/integration/staking-bridge"><span title="Integration Guides" class="categoryLinkLabel_W154">Integration Guides</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/reference/glossary"><span title="Reference" class="categoryLinkLabel_W154">Reference</span></a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Smart Contracts</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">WSTON Vault</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>WSTON Vault</h1></header>
<p>The <strong>WSTONVault</strong> is an L2 vault for locking bridged WSTON tokens with slashing support. Operators lock WSTON on Thanos Sepolia L2 to back agent validations. The vault assigns operator tiers based on locked amounts and enables slashing by authorized contracts (ValidationRegistry, StakingIntegrationModule).</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Where in the code?</div><div class="admonitionContent_BuS1"><p><strong>Contract</strong>: <a href="https://github.com/tokamak-network/Tokamak-AI-Layer/blob/master/contracts/src/core/WSTONVault.sol" target="_blank" rel="noopener noreferrer" class=""><code>contracts/src/core/WSTONVault.sol</code></a> (280 lines)
<strong>Tests</strong>: <code>contracts/test/unit/WSTONVault.t.sol</code> (44 tests)
<strong>Frontend hook</strong>: <code>frontend/src/hooks/useVault.ts</code></p></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview" translate="no">​</a></h2>
<p>Unlike the core registries, WSTONVault is intentionally <strong>non-upgradeable</strong> -- it handles user funds directly and benefits from immutable logic. The WSTON token is set at construction time via an <code>immutable</code> variable.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="operator-flow">Operator Flow<a href="#operator-flow" class="hash-link" aria-label="Direct link to Operator Flow" title="Direct link to Operator Flow" translate="no">​</a></h3>
<!-- -->
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="operator-tiers">Operator Tiers<a href="#operator-tiers" class="hash-link" aria-label="Direct link to Operator Tiers" title="Direct link to Operator Tiers" translate="no">​</a></h2>
<p>Locked WSTON determines an operator&#x27;s tier, which affects eligibility for validator selection and validation requests:</p>
<table><thead><tr><th>Tier</th><th>Locked WSTON</th><th>Constant</th><th>Description</th></tr></thead><tbody><tr><td><strong>UNVERIFIED</strong></td><td>&lt; 1,000</td><td>--</td><td>Cannot serve as validator for StakeSecured/Hybrid</td></tr><tr><td><strong>VERIFIED</strong></td><td>&gt;= 1,000</td><td><code>VERIFIED_THRESHOLD</code></td><td>Eligible for validator selection and dual-staking</td></tr><tr><td><strong>PREMIUM</strong></td><td>&gt;= 10,000</td><td><code>PREMIUM_THRESHOLD</code></td><td>Highest trust tier</td></tr></tbody></table>
<div class="language-solidity codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-solidity codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token builtin" style="color:rgb(189, 147, 249)">uint256</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">constant</span><span class="token plain"> VERIFIED_THRESHOLD </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">1000</span><span class="token plain"> ether</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// 1000 WSTON</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token builtin" style="color:rgb(189, 147, 249)">uint256</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">constant</span><span class="token plain"> PREMIUM_THRESHOLD </span><span class="token operator">=</span><span class="token plain"> </span><span class="token number">10000</span><span class="token plain"> ether</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain">   </span><span class="token comment" style="color:rgb(98, 114, 164)">// 10000 WSTON</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="function-reference">Function Reference<a href="#function-reference" class="hash-link" aria-label="Direct link to Function Reference" title="Direct link to Function Reference" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="core-functions">Core Functions<a href="#core-functions" class="hash-link" aria-label="Direct link to Core Functions" title="Direct link to Core Functions" translate="no">​</a></h3>
<table><thead><tr><th>Function</th><th>Parameters</th><th>Description</th></tr></thead><tbody><tr><td><code>lock</code></td><td><code>uint256 amount</code></td><td>Lock WSTON in the vault. Caller must have approved the vault. Amount must be &gt;= <code>minLockAmount</code>.</td></tr><tr><td><code>requestUnlock</code></td><td><code>uint256 amount</code></td><td>Request to unlock WSTON. Starts the withdrawal delay countdown. Reduces <code>lockedBalance</code> immediately.</td></tr><tr><td><code>processUnlock</code></td><td>--</td><td>Process all ready withdrawal requests. Transfers WSTON back to the caller. Reverts if no requests are ready.</td></tr></tbody></table>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="slashing">Slashing<a href="#slashing" class="hash-link" aria-label="Direct link to Slashing" title="Direct link to Slashing" translate="no">​</a></h3>
<table><thead><tr><th>Function</th><th>Parameters</th><th>Access</th><th>Description</th></tr></thead><tbody><tr><td><code>slash</code></td><td><code>address operator, uint256 amount</code></td><td><code>SLASH_ROLE</code></td><td>Slash an operator&#x27;s locked WSTON. Sends slashed tokens to the treasury. Reverts if amount exceeds balance.</td></tr></tbody></table>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="view-functions">View Functions<a href="#view-functions" class="hash-link" aria-label="Direct link to View Functions" title="Direct link to View Functions" translate="no">​</a></h3>
<table><thead><tr><th>Function</th><th>Parameters</th><th>Returns</th><th>Description</th></tr></thead><tbody><tr><td><code>getLockedBalance</code></td><td><code>address operator</code></td><td><code>uint256</code></td><td>Locked WSTON balance for an operator.</td></tr><tr><td><code>isVerifiedOperator</code></td><td><code>address operator</code></td><td><code>bool</code></td><td>Whether operator meets VERIFIED threshold (&gt;= 1,000 WSTON).</td></tr><tr><td><code>getOperatorTier</code></td><td><code>address operator</code></td><td><code>OperatorTier</code></td><td>Current tier: UNVERIFIED, VERIFIED, or PREMIUM.</td></tr><tr><td><code>getWithdrawalRequestCount</code></td><td><code>address operator</code></td><td><code>uint256</code></td><td>Number of pending withdrawal requests.</td></tr><tr><td><code>getWithdrawalRequest</code></td><td><code>address operator, uint256 index</code></td><td><code>(uint256 amount, uint256 unlockBlock)</code></td><td>Details of a specific withdrawal request.</td></tr><tr><td><code>getReadyAmount</code></td><td><code>address operator</code></td><td><code>uint256</code></td><td>Total amount ready for <code>processUnlock</code>.</td></tr></tbody></table>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="admin-functions">Admin Functions<a href="#admin-functions" class="hash-link" aria-label="Direct link to Admin Functions" title="Direct link to Admin Functions" translate="no">​</a></h3>
<table><thead><tr><th>Function</th><th>Parameters</th><th>Access</th><th>Description</th></tr></thead><tbody><tr><td><code>setTreasury</code></td><td><code>address</code></td><td><code>DEFAULT_ADMIN_ROLE</code></td><td>Update the treasury address.</td></tr><tr><td><code>setWithdrawalDelay</code></td><td><code>uint256</code></td><td><code>DEFAULT_ADMIN_ROLE</code></td><td>Update the block delay for withdrawals.</td></tr><tr><td><code>setMinLockAmount</code></td><td><code>uint256</code></td><td><code>DEFAULT_ADMIN_ROLE</code></td><td>Update minimum lock amount.</td></tr></tbody></table>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="events">Events<a href="#events" class="hash-link" aria-label="Direct link to Events" title="Direct link to Events" translate="no">​</a></h2>
<table><thead><tr><th>Event</th><th>Parameters</th><th>Description</th></tr></thead><tbody><tr><td><code>Locked</code></td><td><code>address indexed operator, uint256 amount</code></td><td>WSTON locked in vault.</td></tr><tr><td><code>UnlockRequested</code></td><td><code>address indexed operator, uint256 amount, uint256 unlockBlock</code></td><td>Withdrawal request created.</td></tr><tr><td><code>UnlockProcessed</code></td><td><code>address indexed operator, uint256 totalAmount</code></td><td>Ready withdrawals processed.</td></tr><tr><td><code>Slashed</code></td><td><code>address indexed operator, uint256 amount, address indexed treasury</code></td><td>Operator slashed, WSTON sent to treasury.</td></tr><tr><td><code>TreasuryUpdated</code></td><td><code>address indexed oldTreasury, address indexed newTreasury</code></td><td>Treasury address changed.</td></tr><tr><td><code>WithdrawalDelayUpdated</code></td><td><code>uint256 oldDelay, uint256 newDelay</code></td><td>Withdrawal delay changed.</td></tr><tr><td><code>MinLockAmountUpdated</code></td><td><code>uint256 oldMin, uint256 newMin</code></td><td>Minimum lock amount changed.</td></tr></tbody></table>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="access-control">Access Control<a href="#access-control" class="hash-link" aria-label="Direct link to Access Control" title="Direct link to Access Control" translate="no">​</a></h2>
<table><thead><tr><th>Role</th><th>Purpose</th></tr></thead><tbody><tr><td><code>DEFAULT_ADMIN_ROLE</code></td><td>Manage admin settings (treasury, delay, min lock), grant/revoke SLASH_ROLE</td></tr><tr><td><code>SLASH_ROLE</code></td><td>Execute slashing against operator locked balances</td></tr></tbody></table>
<p>The <code>SLASH_ROLE</code> is granted to contracts that need slashing authority: <code>TALValidationRegistry</code> (for automated slashing) and <code>StakingIntegrationModule</code>.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="withdrawal-delay">Withdrawal Delay<a href="#withdrawal-delay" class="hash-link" aria-label="Direct link to Withdrawal Delay" title="Direct link to Withdrawal Delay" translate="no">​</a></h2>
<p>When an operator calls <code>requestUnlock(amount)</code>, the locked balance is reduced immediately but the WSTON is not returned until after <code>withdrawalDelay</code> blocks have passed. This prevents operators from front-running a pending slash by withdrawing their stake.</p>
<p>The delay is configurable by the admin. Multiple withdrawal requests can be queued simultaneously, and <code>processUnlock()</code> processes all requests whose unlock block has been reached.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="security-design">Security Design<a href="#security-design" class="hash-link" aria-label="Direct link to Security Design" title="Direct link to Security Design" translate="no">​</a></h2>
<ul>
<li class=""><strong>Non-upgradeable</strong>: Immutable logic for stronger fund safety guarantees</li>
<li class=""><strong>ReentrancyGuard</strong>: All state-changing functions protected against reentrancy</li>
<li class=""><strong>SafeERC20</strong>: All token transfers use OpenZeppelin&#x27;s SafeERC20 to handle non-standard ERC20 implementations</li>
<li class=""><strong>Immediate balance reduction</strong>: <code>requestUnlock()</code> reduces <code>lockedBalance</code> immediately, preventing the operator from appearing staked during the delay period</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="deployed-address">Deployed Address<a href="#deployed-address" class="hash-link" aria-label="Direct link to Deployed Address" title="Direct link to Deployed Address" translate="no">​</a></h2>
<table><thead><tr><th>Contract</th><th>Network</th><th>Address</th></tr></thead><tbody><tr><td>WSTONVault</td><td>Thanos Sepolia L2</td><td><a href="https://explorer.thanos-sepolia.tokamak.network/address/0x6aa6a7B9e51B636417025403053855B788107C27" target="_blank" rel="noopener noreferrer" class=""><code>0x6aa6a7B9e51B636417025403053855B788107C27</code></a></td></tr><tr><td>WSTON (L2 Bridged)</td><td>Thanos Sepolia L2</td><td><a href="https://explorer.thanos-sepolia.tokamak.network/address/0x4d7b29213c9ad19a2aaa01e3ccf6f209636a786f" target="_blank" rel="noopener noreferrer" class=""><code>0x4d7b29213c9ad19a2aaa01e3ccf6f209636a786f</code></a></td></tr></tbody></table>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="related-pages">Related Pages<a href="#related-pages" class="hash-link" aria-label="Direct link to Related Pages" title="Direct link to Related Pages" translate="no">​</a></h2>
<ul>
<li class=""><a class="" href="/contracts/validation-registry">Validation Registry</a> -- uses WSTONVault for dual-staking checks and automated slashing</li>
<li class=""><a class="" href="/contracts/deployment-and-security">Deployment &amp; Security</a> -- security patterns and deployed addresses</li>
<li class=""><a class="" href="/architecture/cross-layer-bridge">Cross-Layer Bridge</a> -- L1/L2 WSTON bridging</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/tokamak-network/Tokamak-AI-Layer/tree/master/docs/docs/contracts/wston-vault.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/contracts/validation-registry"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Validation Registry</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/contracts/task-fee-escrow"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Task Fee Escrow</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a><ul><li><a href="#operator-flow" class="table-of-contents__link toc-highlight">Operator Flow</a></li></ul></li><li><a href="#operator-tiers" class="table-of-contents__link toc-highlight">Operator Tiers</a></li><li><a href="#function-reference" class="table-of-contents__link toc-highlight">Function Reference</a><ul><li><a href="#core-functions" class="table-of-contents__link toc-highlight">Core Functions</a></li><li><a href="#slashing" class="table-of-contents__link toc-highlight">Slashing</a></li><li><a href="#view-functions" class="table-of-contents__link toc-highlight">View Functions</a></li><li><a href="#admin-functions" class="table-of-contents__link toc-highlight">Admin Functions</a></li></ul></li><li><a href="#events" class="table-of-contents__link toc-highlight">Events</a></li><li><a href="#access-control" class="table-of-contents__link toc-highlight">Access Control</a></li><li><a href="#withdrawal-delay" class="table-of-contents__link toc-highlight">Withdrawal Delay</a></li><li><a href="#security-design" class="table-of-contents__link toc-highlight">Security Design</a></li><li><a href="#deployed-address" class="table-of-contents__link toc-highlight">Deployed Address</a></li><li><a href="#related-pages" class="table-of-contents__link toc-highlight">Related Pages</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/">Introduction</a></li><li class="footer__item"><a class="footer__link-item" href="/architecture/overview">Architecture</a></li><li class="footer__item"><a class="footer__link-item" href="/contracts/identity-registry">Smart Contracts</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Developer Resources</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/sdk/overview">SDK Reference</a></li><li class="footer__item"><a class="footer__link-item" href="/app/setup">Frontend App</a></li><li class="footer__item"><a class="footer__link-item" href="/integration/staking-bridge">Integration Guides</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/tokamak-network/Tokamak-AI-Layer" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2026 Tokamak Network.</div></div></div></footer></div>
</body>
</html>